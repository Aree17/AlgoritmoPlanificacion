{% load static %}

<!DOCTYPE html>
<html>
<head>
    <title>Procesos Guardados</title>
    <link rel="stylesheet" href="{% static 'css/lista.css' %}">
</head>
<body>

<div class="container fade-in">

<h2>Procesos Guardados</h2>

<table>
<thead>
<tr>
    <th>Nombre</th>
    <th>Llegada</th>
    <th>R√°faga CPU</th>
    <th>Operaciones E/S</th>
    <th>Acci√≥n</th>
</tr>
</thead>

<tbody>
{% for p in procesos %}
<tr>
    <td><b>{{ p.nombre }}</b></td>
    <td>{{ p.tiempo_llegada }}</td>
    <td>{{ p.rafaga_cpu }}</td>
    <td>
        {% if p.es and p.es|length > 0 %}
            {% for op in p.es %}
                {% if op|length == 2 %}
                    üîÅ E/S {{ op.0 }} ‚Üí {{ op.1 }} ms<br>
                {% endif %}
            {% endfor %}
        {% else %}
            <i>Ninguna</i>
        {% endif %}
    </td>
    <td>
        <a href="{% url 'eliminar_proceso' p.id %}"
           onclick="return confirmar('{{ p.nombre }}');">
           <button class="btn btn-delete">Eliminar</button>
        </a>
    </td>
</tr>
{% empty %}
<tr>
    <td colspan="5">No hay procesos registrados</td>
</tr>
{% endfor %}
</tbody>
</table>

<div class="actions">

<form action="{% url 'ingresar' %}" method="get" style="display:inline;">
    <button class="btn btn-add" type="submit">‚ûï Agregar proceso</button>
</form>

<form method="post" action="{% url 'eliminar_todos_procesos' %}"
      style="display:inline;"
      onsubmit="return confirmarTodos();">
    {% csrf_token %}
    <button class="btn btn-delete" type="submit">üóë Eliminar todos</button>
</form>

<a href="{% url 'simular' %}">
    <button class="btn btn-run">‚ñ∂ Ejecutar Simulaci√≥n SJF No Apropiativo</button>
</a>

</div>
</div>

<script src="{% static 'js/lista.js' %}"></script>

</body>
</html>
